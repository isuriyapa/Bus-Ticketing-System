{"ast":null,"code":"var _jsxFileName = \"D:\\\\SLIIT_3rdyr_1st_sem\\\\CSSE\\\\TicketingSystem\\\\frontendnew\\\\src\\\\pages\\\\LoginPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport '../styles/login.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport RestService from \"../services/RestService\";\nimport bg from '../assets/login-bg.jpg';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginPage() {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  function handleValidationErrorMsg(msg) {\n    toast.error(msg, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: \"colored\"\n    });\n  }\n  function handleAuthenticate() {\n    //Empty fields validtaion\n    if (username == '' || password == '') {\n      handleValidationErrorMsg('Inputs cannot be empty');\n      return;\n    }\n    RestService.authenticateUser(username, password).then(res => {\n      if (res.data.token != null) {\n        sessionStorage.setItem(\"token\", res.data.token);\n        sessionStorage.setItem(\"isLogged\", true);\n        sessionStorage.setItem(\"name\", res.data.userDto.name);\n        sessionStorage.setItem(\"email\", res.data.userDto.email);\n        sessionStorage.setItem(\"role\", res.data.userDto.role);\n        sessionStorage.setItem(\"username\", res.data.userDto.username);\n        sessionStorage.setItem(\"mobileNo\", res.data.userDto.username);\n        sessionStorage.setItem(\"id\", res.data.userDto.id);\n        window.location.href = '/';\n      } else {\n        toast.error('Login failed!! Please try again.', {\n          position: \"top-right\",\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: \"colored\"\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n      toast.error('Login failed!! Please try again.', {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: \"colored\"\n      });\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-lg-12 row\",\n    style: {\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-6 d-flex justify-content-center align-items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: bg,\n        alt: \"\",\n        style: {\n          height: '90vh',\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-lg-6 d-flex flex-column justify-content-center align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Ticket\", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'yellow'\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"username\",\n        type: \"text\",\n        onChange: e => setUsername(e.target.value),\n        className: \"form-control login-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"password\",\n        type: \"password\",\n        onChange: e => setPassword(e.target.value),\n        className: \"form-control login-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark login-btn\",\n        onClick: handleAuthenticate,\n        children: \"LOGIN\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        className: \"m-4 login-label\",\n        children: \" Forgot Password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \" Don't have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"login-link\",\n        href: \"/register\",\n        children: \"Create a new account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginPage, \"EgYjDAoSBrLcIIdUzvjslMz3nCA=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","ToastContainer","toast","RestService","bg","useNavigate","jsxDEV","_jsxDEV","LoginPage","_s","navigate","username","setUsername","password","setPassword","handleValidationErrorMsg","msg","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","handleAuthenticate","authenticateUser","then","res","data","token","sessionStorage","setItem","userDto","name","email","role","id","window","location","href","catch","err","console","log","className","style","height","children","src","alt","width","fileName","_jsxFileName","lineNumber","columnNumber","color","placeholder","type","onChange","e","target","value","onClick","htmlFor","_c","$RefreshReg$"],"sources":["D:/SLIIT_3rdyr_1st_sem/CSSE/TicketingSystem/frontendnew/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport '../styles/login.css'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport RestService from \"../services/RestService\";\r\nimport bg from '../assets/login-bg.jpg'\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction LoginPage() {\r\n    const navigate = useNavigate();\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    function handleValidationErrorMsg(msg){\r\n        toast.error(msg, {\r\n            position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n            theme: \"colored\",\r\n        });\r\n    }\r\n\r\n    function handleAuthenticate() {\r\n\r\n        //Empty fields validtaion\r\n        if (username == '' || password == '') {\r\n            handleValidationErrorMsg('Inputs cannot be empty')\r\n            return;\r\n        }\r\n\r\n        RestService.authenticateUser(username, password).then((res) => {\r\n            if (res.data.token != null) {\r\n                sessionStorage.setItem(\"token\", res.data.token);\r\n                sessionStorage.setItem(\"isLogged\", true);\r\n\r\n                sessionStorage.setItem(\"name\", res.data.userDto.name);\r\n                sessionStorage.setItem(\"email\", res.data.userDto.email);\r\n\r\n                sessionStorage.setItem(\"role\", res.data.userDto.role);\r\n                sessionStorage.setItem(\"username\", res.data.userDto.username);\r\n                sessionStorage.setItem(\"mobileNo\", res.data.userDto.username);\r\n\r\n                sessionStorage.setItem(\"id\", res.data.userDto.id);\r\n                window.location.href = '/';\r\n\r\n            } else {\r\n                toast.error('Login failed!! Please try again.', {\r\n                    position: \"top-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"colored\",\r\n                });\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err);\r\n            toast.error('Login failed!! Please try again.', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"colored\",\r\n            });\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-lg-12 row\" style={{height:'100%'}}>\r\n            <div className=\"col-lg-6 d-flex justify-content-center align-items-center\">\r\n                <img src={bg} alt=\"\" style={{height:'90vh', width:'100%'}} />\r\n            </div>\r\n\r\n            <div className=\"col-lg-6 d-flex flex-column justify-content-center align-items-center\">\r\n                <h1>Ticket<span style={{color:'yellow'}}>+</span></h1>\r\n                <input placeholder=\"username\" type=\"text\" onChange={(e) => setUsername(e.target.value)} className='form-control login-input' />\r\n                <input placeholder=\"password\" type=\"password\" onChange={(e) => setPassword(e.target.value)} className='form-control login-input' />\r\n                <button className='btn btn-dark login-btn' onClick={handleAuthenticate} >LOGIN</button>\r\n                <label htmlFor=\"\" className=\"m-4 login-label\"> Forgot Password?</label>\r\n                <label htmlFor=\"\"> Don't have an account?</label>\r\n                <a className=\"login-link\" href=\"/register\">Create a new account</a>\r\n            </div>\r\n\r\n\r\n\r\n            {/* d-flex justify-content-center align-items-center */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}